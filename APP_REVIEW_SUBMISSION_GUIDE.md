# Facebook/Instagram ã‚¢ãƒ—ãƒªãƒ¬ãƒ“ãƒ¥ãƒ¼å†ç”³è«‹ã‚¬ã‚¤ãƒ‰

## ğŸ“‹ å‰å›ã®ç”³è«‹å´ä¸‹ç†ç”±ã¨å¯¾ç­–

### ä¸»ãªå•é¡Œç‚¹
1. **èª¤ã£ãŸèªè¨¼ãƒ•ãƒ­ãƒ¼**: Facebookãƒ­ã‚°ã‚¤ãƒ³ã§ã¯ãªãInstagram Business LoginãŒå¿…è¦
2. **æ¨©é™è¡¨ç¤ºã®ä¸å‚™**: instagram_business_basicæ¨©é™ãŒèªè¨¼ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«è¡¨ç¤ºã•ã‚Œã¦ã„ãªã„
3. **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼æœªè¡¨ç¤º**: OAuthãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã„
4. **ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†æ©Ÿèƒ½ã®ä¸è¶³**: ã‚¢ãƒ—ãƒªå†…ã§Instagram Businessã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†æ©Ÿèƒ½ãŒæœªå®Ÿè£…

## âœ… å®Ÿè£…æ¸ˆã¿ã®å¯¾ç­–

### 1. Instagram Business Login ã®å®Ÿè£…
- `/api/instagram/connect` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä¿®æ­£
- æ­£ã—ã„æ¨©é™ã‚¹ã‚³ãƒ¼ãƒ—: `instagram_business_basic,instagram_business_manage_insights,pages_show_list,pages_read_engagement`
- OAuthãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã« `display: 'popup'` ã¨ `auth_type: 'reauthorize'` ã‚’è¿½åŠ 

### 2. Instagram Businessãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ãƒšãƒ¼ã‚¸
- `/instagram-profile` ã«å°‚ç”¨ãƒšãƒ¼ã‚¸ã‚’ä½œæˆ
- ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’å®Ÿè£…:
  - Instagram Business ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ID/ãƒ¦ãƒ¼ã‚¶ãƒ¼åè¡¨ç¤º
  - åŸºæœ¬ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç”»åƒã€åå‰ã€ãƒã‚¤ã‚ªã‚°ãƒ©ãƒ•ã‚£ãƒ¼ï¼‰ã®è¡¨ç¤º
  - ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ã€ãƒ•ã‚©ãƒ­ãƒ¼æ•°ã€æŠ•ç¨¿æ•°ã®çµ±è¨ˆè¡¨ç¤º
  - ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã¨æ¨©é™ã‚¹ã‚³ãƒ¼ãƒ—ã®è¡¨ç¤ºï¼ˆå¯©æŸ»ãƒ‡ãƒ¢ç”¨ï¼‰

### 3. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®æ”¹å–„
- ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
- Instagramé€£æºçŠ¶æ…‹ã®æ˜ç¢ºãªè¡¨ç¤º

## ğŸ¥ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ã‚¹ãƒˆè¦ä»¶

### å¿…é ˆãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å†…å®¹

#### 1. å®Œå…¨ãªInstagram Business Loginãƒ—ãƒ­ã‚»ã‚¹
```
æ‰‹é †:
1. ã‚¢ãƒ—ãƒªã®ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¾ãŸã¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’è¡¨ç¤º
2. ã€ŒInstagramé€£æºã‚’é–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. Facebook/Instagram OAuthãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - URLãŒ https://www.facebook.com/v23.0/dialog/oauth ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
   - instagram_business_basicæ¨©é™ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
   - ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
4. ã€Œç¶šã‘ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ¨©é™ã‚’è¨±å¯
5. ã‚¢ãƒ—ãƒªã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
```

#### 2. ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®è¡¨ç¤º
```
OAuthãƒ€ã‚¤ã‚¢ãƒ­ã‚°å†…ã§:
- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¸ã®ãƒªãƒ³ã‚¯ãŒæ˜ç¢ºã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
- ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å®Ÿéš›ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒšãƒ¼ã‚¸ãŒé–‹ã
```

#### 3. Instagram Businessãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
```
èªè¨¼å¾Œ:
1. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ã€Œãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. /instagram-profile ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. ä»¥ä¸‹ã®æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª:
   - Instagram Business ã‚¢ã‚«ã‚¦ãƒ³ãƒˆID
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆ@usernameå½¢å¼ï¼‰
   - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç”»åƒ
   - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆBUSINESSï¼‰
   - ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ã€ãƒ•ã‚©ãƒ­ãƒ¼æ•°ã€æŠ•ç¨¿æ•°
```

#### 4. åŸºæœ¬ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å–å¾—
```
ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ãƒšãƒ¼ã‚¸ã§:
- Graph APIçµŒç”±ã§å–å¾—ã—ãŸå®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ãŒæœ‰åŠ¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™
- instagram_business_basicæ¨©é™ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’è¡¨ç¤º
```

## ğŸ“ ç”³è«‹æ™‚ã®ãƒãƒ¼ãƒˆè¨˜è¼‰å†…å®¹

ä»¥ä¸‹ã®å†…å®¹ã‚’è‹±èªã§è¨˜è¼‰ã—ã¦ãã ã•ã„ï¼š

```
Thank you for your feedback. We have made the following improvements:

1. **Instagram Business Login Implementation**
   - Properly implemented Instagram Business authentication flow
   - The OAuth dialog now correctly shows "instagram_business_basic" permission
   - Privacy policy link is prominently displayed in the authentication dialog

2. **Profile Management Section**
   - Added dedicated Instagram Business profile management page (/instagram-profile)
   - Displays Instagram Business account ID and username
   - Shows basic metadata: profile picture, bio, follower count, following count, media count
   - All data is retrieved using Graph API v23.0 with instagram_business_basic permission

3. **Use Case Clarification**
   - Our app helps businesses analyze their Instagram performance
   - instagram_business_basic permission is essential for:
     * Retrieving business account profile information
     * Displaying account statistics to users
     * Providing insights into account growth
   - This enhances user experience by providing real-time account data

The screencast demonstrates:
- Complete Instagram Business Login flow
- Privacy policy display in OAuth dialog
- instagram_business_basic permission request
- Profile management functionality within the app
- Successful retrieval of Instagram Business account metadata
```

## ğŸš€ ç”³è«‹å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] Facebook Appè¨­å®šã§ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼URLãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] æœ‰åŠ¹ãªOAuth Redirect URIãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] Instagram Business LoginãŒæ­£ã—ãå‹•ä½œã™ã‚‹
- [ ] ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ãƒšãƒ¼ã‚¸ãŒæ­£ã—ããƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹
- [ ] ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ã‚¹ãƒˆãŒå…¨è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹
- [ ] ç”³è«‹ãƒãƒ¼ãƒˆãŒæ˜ç¢ºã§å…·ä½“çš„ã§ã‚ã‚‹

## ğŸ“Œ é‡è¦ãªæ³¨æ„äº‹é …

1. **ãƒ†ã‚¹ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**: å®Ÿéš›ã®Instagram Businessã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¢ã‚’è¡Œã†
2. **ç”»è³ª**: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ã‚¹ãƒˆã¯é«˜è§£åƒåº¦ã§ã€ãƒ†ã‚­ã‚¹ãƒˆãŒèª­ã¿ã‚„ã™ã„ã“ã¨
3. **éŸ³å£°èª¬æ˜**: å¯èƒ½ã§ã‚ã‚Œã°è‹±èªã§å„ã‚¹ãƒ†ãƒƒãƒ—ã‚’èª¬æ˜
4. **ç·¨é›†**: ä¸è¦ãªå¾…ã¡æ™‚é–“ã¯ã‚«ãƒƒãƒˆã—ã€é‡è¦ãªéƒ¨åˆ†ã«ç„¦ç‚¹ã‚’å½“ã¦ã‚‹

## ğŸ”— é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- Facebook App Dashboard: https://developers.facebook.com/apps/
- Instagram Graph API Documentation: https://developers.facebook.com/docs/instagram-api
- App Review Guidelines: https://developers.facebook.com/docs/app-review

## ğŸ’¡ è¿½åŠ ã®æ¨å¥¨äº‹é …

1. **æ®µéšçš„ãªæ¨©é™ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**: æœ€åˆã¯æœ€å°é™ã®æ¨©é™ã®ã¿ã‚’ç”³è«‹ã—ã€æ‰¿èªå¾Œã«è¿½åŠ æ¨©é™ã‚’ç”³è«‹
2. **æ˜ç¢ºãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Šã‚’å¼·èª¿
3. **ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹**: Facebookã¨Instagramã®åˆ©ç”¨è¦ç´„ã‚’å³å®ˆã—ã¦ã„ã‚‹ã“ã¨ã‚’æ˜è¨˜

---

ã“ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦å†ç”³è«‹ã‚’è¡Œã†ã“ã¨ã§ã€ã‚¢ãƒ—ãƒªãƒ¬ãƒ“ãƒ¥ãƒ¼ã®æ‰¿èªç¢ºç‡ãŒå¤§å¹…ã«å‘ä¸Šã—ã¾ã™ã€‚